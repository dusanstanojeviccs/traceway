import{r as rr}from"../chunks/hp4PFHFv.js";import{a as ar,e as pt,i as Ft,b as Rt,p as zt}from"../chunks/Cz_w3iUV.js";import{c as _,i as ge,a as s,d as gt,h as sr,p as L,f as C,r as _t,s as se,t as Re}from"../chunks/DRF5TCtt.js";import{u as n,g as e,w as a,p as He,f as l,a as Ee,s as d,c as H,b as Lt,r as z,t as oe,m as y,h as Q,q as or,v as nr,n as ye}from"../chunks/BjAeDMBy.js";import{c}from"../chunks/g5lWU4bW.js";import{c as Ve}from"../chunks/zDxND3qM.js";import{b as Xe,T as Ze,a as ze,c as ir,d as lr,e as ur}from"../chunks/y6C-zUiM.js";import{I as cr}from"../chunks/DLEEBDqL.js";import{a as mt,b as dr,d as hr,s as fr,f as ht,B as ft}from"../chunks/2wOyHH5q.js";import{H as pr,C as mr,S as vr,a as gr,b as _r,c as br}from"../chunks/DSCeSNeZ.js";import{L as $r}from"../chunks/2O2paTqt.js";import{s as xr}from"../chunks/BB27blqs.js";import{C as Nt,w as vt,g as Ot}from"../chunks/BOe3pJkQ.js";import{a as kr,e as It,f as At,h as yr,c as wr,b as Sr,d as ae,m as Pr}from"../chunks/Cj4dJpFl.js";import{E as Tr,S as Cr,i as Dr}from"../chunks/CEAkWQL2.js";import{i as Rr}from"../chunks/CHB5F_Rq.js";import{I as zr}from"../chunks/BVu9LbMP.js";import{b as Ir,T as Ar,a as Hr}from"../chunks/gkGIgQOH.js";import{b as jt,h as Er,c as Ht,t as Et}from"../chunks/CDT9LSXp.js";import{A as Mr}from"../chunks/DPmphkir.js";import{T as qr,a as et}from"../chunks/PdIRTCrQ.js";import{P as Fr}from"../chunks/BUOTwRzw.js";import{g as Mt,d as tt,c as rt,T as Lr,p as Nr,u as Or}from"../chunks/DYapue6Z.js";import{g as jr,h as Ur,s as Br}from"../chunks/X-i49s3k.js";import{t as Gr}from"../chunks/DJXxIydW.js";import{A as Yr}from"../chunks/ClEYWht3.js";const Wr=wr({component:"checkbox",parts:["root","group","group-label","input"]}),Jr=new Nt("Checkbox.Group"),Ut=new Nt("Checkbox.Root");class bt{static create(t,m=null){return Ut.set(new bt(t,m))}opts;group;#e=n(()=>this.group&&this.group.opts.name.current?this.group.opts.name.current:this.opts.name.current);get trueName(){return e(this.#e)}set trueName(t){a(this.#e,t)}#t=n(()=>this.group&&this.group.opts.required.current?!0:this.opts.required.current);get trueRequired(){return e(this.#t)}set trueRequired(t){a(this.#t,t)}#r=n(()=>this.group&&this.group.opts.disabled.current?!0:this.opts.disabled.current);get trueDisabled(){return e(this.#r)}set trueDisabled(t){a(this.#r,t)}#s=n(()=>this.group&&this.group.opts.readonly.current?!0:this.opts.readonly.current);get trueReadonly(){return e(this.#s)}set trueReadonly(t){a(this.#s,t)}attachment;constructor(t,m){this.opts=t,this.group=m,this.attachment=kr(this.opts.ref),this.onkeydown=this.onkeydown.bind(this),this.onclick=this.onclick.bind(this),vt.pre([()=>xr(this.group?.opts.value.current),()=>this.opts.value.current],([u,D])=>{!u||!D||(this.opts.checked.current=u.includes(D))}),vt.pre(()=>this.opts.checked.current,u=>{this.group&&(u?this.group?.addValue(this.opts.value.current):this.group?.removeValue(this.opts.value.current))})}onkeydown(t){this.trueDisabled||this.trueReadonly||(t.key===Tr&&t.preventDefault(),t.key===Cr&&(t.preventDefault(),this.#a()))}#a(){this.opts.indeterminate.current?(this.opts.indeterminate.current=!1,this.opts.checked.current=!0):this.opts.checked.current=!this.opts.checked.current}onclick(t){if(!(this.trueDisabled||this.trueReadonly)){if(this.opts.type.current==="submit"){this.#a();return}t.preventDefault(),this.#a()}}#o=n(()=>({checked:this.opts.checked.current,indeterminate:this.opts.indeterminate.current}));get snippetProps(){return e(this.#o)}set snippetProps(t){a(this.#o,t)}#n=n(()=>({id:this.opts.id.current,role:"checkbox",type:this.opts.type.current,disabled:this.trueDisabled,"aria-checked":yr(this.opts.checked.current,this.opts.indeterminate.current),"aria-required":At(this.trueRequired),"aria-readonly":At(this.trueReadonly),"data-disabled":It(this.trueDisabled),"data-readonly":It(this.trueReadonly),"data-state":Kr(this.opts.checked.current,this.opts.indeterminate.current),[Wr.root]:"",onclick:this.onclick,onkeydown:this.onkeydown,...this.attachment}));get props(){return e(this.#n)}set props(t){a(this.#n,t)}}class $t{static create(){return new $t(Ut.get())}root;#e=n(()=>this.root.group?!!(this.root.opts.value.current!==void 0&&this.root.group.opts.value.current.includes(this.root.opts.value.current)):this.root.opts.checked.current);get trueChecked(){return e(this.#e)}set trueChecked(t){a(this.#e,t)}#t=n(()=>!!this.root.trueName);get shouldRender(){return e(this.#t)}set shouldRender(t){a(this.#t,t)}constructor(t){this.root=t,this.onfocus=this.onfocus.bind(this)}onfocus(t){Dr(this.root.opts.ref.current)&&this.root.opts.ref.current.focus()}#r=n(()=>({type:"checkbox",checked:this.root.opts.checked.current===!0,disabled:this.root.trueDisabled,required:this.root.trueRequired,name:this.root.trueName,value:this.root.opts.value.current,readonly:this.root.trueReadonly,onfocus:this.onfocus}));get props(){return e(this.#r)}set props(t){a(this.#r,t)}}function Kr(q,t){return t?"indeterminate":q?"checked":"unchecked"}function Qr(q,t){He(t,!1);const m=$t.create();Rr();var u=_(),D=l(u);{var I=$=>{pr($,gt(()=>m.props))};ge(D,$=>{m.shouldRender&&$(I)})}s(q,u),Ee()}var Vr=C("<button><!></button>"),Xr=C("<!> <!>",1);function Zr(q,t){const m=sr();He(t,!0);let u=L(t,"checked",15,!1),D=L(t,"ref",15,null),I=L(t,"disabled",3,!1),$=L(t,"required",3,!1),v=L(t,"name",3,void 0),w=L(t,"value",3,"on"),N=L(t,"id",19,()=>Sr(m)),F=L(t,"indeterminate",15,!1),V=L(t,"type",3,"button"),S=_t(t,["$$slots","$$events","$$legacy","checked","ref","onCheckedChange","children","disabled","required","name","value","id","indeterminate","onIndeterminateChange","child","type","readonly"]);const T=Jr.getOr(null);T&&w()&&(T.opts.value.current.includes(w())?u(!0):u(!1)),vt.pre(()=>w(),()=>{T&&w()&&(T.opts.value.current.includes(w())?u(!0):u(!1))});const b=bt.create({checked:ae(()=>u(),h=>{u(h),t.onCheckedChange?.(h)}),disabled:ae(()=>I()??!1),required:ae(()=>$()),name:ae(()=>v()),value:ae(()=>w()),id:ae(()=>N()),ref:ae(()=>D(),h=>D(h)),indeterminate:ae(()=>F(),h=>{F(h),t.onIndeterminateChange?.(h)}),type:ae(()=>V()),readonly:ae(()=>!!t.readonly)},T),f=n(()=>Pr({...S},b.props));var i=Xr(),p=l(i);{var x=h=>{var g=_(),E=l(g);{let M=n(()=>({props:e(f),...b.snippetProps}));mt(E,()=>t.child,()=>e(M))}s(h,g)},P=h=>{var g=Vr();dr(g,()=>({...e(f)}));var E=H(g);mt(E,()=>t.children??Lt,()=>b.snippetProps),z(g),s(h,g)};ge(p,h=>{t.child?h(x):h(P,!1)})}var O=d(p,2);Qr(O,{}),s(q,i),Ee()}function ea(q,t){He(t,!0);let m=_t(t,["$$slots","$$events","$$legacy"]);const u=[["path",{d:"M5 12h14"}]];zr(q,gt({name:"minus"},()=>m,{get iconNode(){return u},children:(D,I)=>{var $=_(),v=l($);mt(v,()=>t.children??Lt),s(D,$)},$$slots:{default:!0}})),Ee()}const ta=()=>{if(!ar.isAuthenticated)throw rr(302,"/login")},Ba=Object.freeze(Object.defineProperty({__proto__:null,load:ta},Symbol.toStringTag,{value:"Module"}));var ra=C('<span class="flex items-center justify-center text-current"><!></span>');function qt(q,t){He(t,!0);let m=L(t,"ref",15,null),u=L(t,"checked",15,!1),D=L(t,"disabled",3,!1),I=_t(t,["$$slots","$$events","$$legacy","ref","checked","onCheckedChange","class","disabled"]);const $=n(()=>u()===!0),v=n(()=>u()==="indeterminate");function w(S){const T=S;u(T),t.onCheckedChange?.(T)}function N(S){S&&(u("indeterminate"),t.onCheckedChange?.("indeterminate"))}var F=_(),V=l(F);{const S=(b,f)=>{let i=()=>f?.().checked,p=()=>f?.().indeterminate;var x=ra(),P=H(x);{var O=g=>{ea(g,{class:"size-3"})},h=g=>{var E=_(),M=l(E);{var j=B=>{mr(B,{class:"size-3"})};ge(M,B=>{i()&&B(j)},!0)}s(g,E)};ge(P,g=>{p()?g(O):g(h,!1)})}z(x),s(b,x)};let T=n(()=>hr("peer size-4 shrink-0 rounded-[4px] border border-input dark:border-white bg-background shadow-sm transition-colors","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring","disabled:cursor-not-allowed disabled:opacity-50","data-[state=checked]:bg-primary data-[state=checked]:border-primary data-[state=checked]:text-primary-foreground","data-[state=indeterminate]:bg-primary data-[state=indeterminate]:border-primary data-[state=indeterminate]:text-primary-foreground",t.class));c(V,()=>Zr,(b,f)=>{f(b,gt({get checked(){return e($)},get indeterminate(){return e(v)},onCheckedChange:w,onIndeterminateChange:N,get disabled(){return D()},get class(){return e(T)}},()=>I,{get ref(){return m()},set ref(i){m(i)},children:S,$$slots:{default:!0}}))})}s(q,F),Ee()}var aa=C('<div class="absolute left-0 right-7 h-[1px]"></div> <span class="absolute right-1 text-[10px] w-[20px] text-muted-foreground tabular-nums"> </span>',1),sa=C("<div></div>"),oa=C('<div class="font-medium text-sm"> </div> <div class="text-muted-foreground text-xs"> </div>',1),na=C("<!> <!>",1),ia=C('<div class="relative h-7 w-44 flex-shrink-0"><div class="absolute left-0 right-7 bottom-0 border-t border-muted-foreground/40"></div> <!> <div class="absolute inset-0 right-7 flex items-end gap-[1px]"></div></div>');function la(q,t){He(t,!0);let m=L(t,"trend",19,()=>[]);const u=n(()=>t.timezone??Ot()),D=24,I=10,$=n(()=>()=>{const b=Er(e(u)),f=[],i=new Map;for(const p of m()){const x=new Date(p.timestamp),P=`${x.getFullYear()}-${x.getMonth()}-${x.getDate()}-${x.getHours()}`;i.set(P,(i.get(P)||0)+p.count)}for(let p=D-1;p>=0;p--){const P=b.minus({hours:p}).startOf("hour").toJSDate(),O=`${P.getFullYear()}-${P.getMonth()}-${P.getDate()}-${P.getHours()}`;f.push({hour:P,count:i.get(O)||0})}return f}),v=n(()=>()=>Math.max(...e($)().map(b=>b.count),0)),w=n(()=>()=>Math.max(I,e(v)())),N=n(()=>()=>e(v)()===0?0:e(v)()/e(w)()*100);var F=ia(),V=d(H(F),2);{var S=b=>{var f=aa(),i=l(f),p=d(i,2),x=H(p,!0);z(p),oe((P,O,h)=>{ht(i,`bottom: ${P??""}%; background: repeating-linear-gradient(to right, var(--muted-foreground) 0, var(--muted-foreground) 4px, transparent 4px, transparent 7px); opacity: 0.5;`),ht(p,`bottom: calc(${O??""}% - 6px);`),se(x,h)},[()=>e(N)(),()=>e(N)(),()=>e(v)()>999?(e(v)()/1e3).toFixed(1)+"k":e(v)()]),s(b,f)};ge(V,b=>{e(v)()>0&&b(S)})}var T=d(V,2);pt(T,21,()=>e($)(),Ft,(b,f)=>{const i=n(()=>e(w)()>0?e(f).count/e(w)()*100:0),p=n(()=>e(f).count>0);var x=_(),P=l(x);c(P,()=>Ir,(O,h)=>{h(O,{children:(g,E)=>{var M=na(),j=l(M);c(j,()=>Ar,(ne,X)=>{X(ne,{class:"flex-1 h-full flex items-end justify-center",children:(G,Ne)=>{var _e=sa();oe(be=>{fr(_e,1,`w-full max-w-[4px] rounded-[1px] transition-colors ${e(p)?"hover:opacity-80":""}`),ht(_e,`height: ${be??""}%;${e(p)?" background-color: var(--sidebar-accent);":""}`)},[()=>Math.max(2,e(i))]),s(G,_e)},$$slots:{default:!0}})});var B=d(j,2);c(B,()=>Hr,(ne,X)=>{X(ne,{side:"top",class:"py-2 px-3 !animate-none !transition-none",children:(G,Ne)=>{var _e=oa(),be=l(_e),Oe=H(be);z(be);var je=d(be,2),Z=H(je,!0);z(je),oe(at=>{se(Oe,`${e(f).count??""} ${e(f).count===1?"Event":"Events"}`),se(Z,at)},[()=>jt(e(f).hour,{timezone:e(u),format:"full"})]),s(G,_e)},$$slots:{default:!0}})}),s(g,M)},$$slots:{default:!0}})}),s(b,x)}),z(T),z(F),s(q,F),Ee()}var ua=C("<!> <!>",1),ca=C("<!> Archive",1),da=C('<div class="flex animate-in items-center gap-3 rounded-lg border bg-muted/50 p-3 duration-200 fade-in slide-in-from-top-1"><span class="text-sm font-medium"> </span> <!> <!></div>'),ha=C('<div class="flex h-full items-center justify-center"><!></div>'),fa=C("<!> <!> <!> <!> <!>",1),pa=C('<span class="text-foreground"> </span>'),ma=C("<!> <!> <!> <!> <!>",1),va=C("<!> <!>",1),ga=C('<div class="space-y-4"><div class="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"><h2 class="text-2xl font-bold tracking-tight">Issues</h2> <div class="w-full sm:w-auto"><!></div></div> <div class="flex"><!> <!> <!></div> <!> <div class="overflow-hidden rounded-md border"><!></div> <!></div> <!>',1);function Ga(q,t){He(t,!0);const m=n(Ot),u="issues",D=jr(u,{field:"last_seen",direction:"desc"});let I=y(Q(D.field)),$=y(Q(D.direction)),v=y(Q([])),w=y(!0),N=y(""),F=y(!1),V=y(!1),S=y(1),T=y(10),b=y(0),f=y(0),i=y(Q(new Set));const p=n(()=>e(i).size),x=n(()=>e(v).length>0&&e(i).size===e(v).length),P=n(()=>e(i).size>0&&e(i).size<e(v).length);function O(){const r=new URLSearchParams(window.location.search);return{...Nr(e(m),"24h"),search:r.get("search")||"",searchType:r.get("searchType")||"all"}}const h=O(),g=Mt(h,e(m));let E=y(Q(h.preset)),M=y(Q(tt(g.from))),j=y(Q(tt(g.to))),B=y(Q(rt(g.from))),ne=y(Q(rt(g.to))),X=y(Q(h.search)),G=y(Q(h.searchType));const Ne=[{value:"all",label:"All"},{value:"issues",label:"Issues"},{value:"messages",label:"Messages"}],_e=n(()=>Ne.find(r=>r.value===e(G))?.label??"All");function be(){const[r,o]=e(B).split(":").map(Number),k=Ht({year:e(M).year,month:e(M).month,day:e(M).day,hour:r,minute:o},e(m));return Et(k)}function Oe(){const[r,o]=e(ne).split(":").map(Number),k=Ht({year:e(j).year,month:e(j).month,day:e(j).day,hour:r,minute:o},e(m));return Et(k)}function je(r=!0){const o={};e(E)?o.preset=e(E):(o.from=be(),o.to=Oe()),e(X).trim()&&(o.search=e(X).trim()),e(G)!=="all"&&(o.searchType=e(G)),Or(o,{pushToHistory:r})}async function Z(r=!0){a(w,!0),a(N,""),je(r);try{const o=e($)==="asc"?`${e(I)}_asc`:e(I),k={fromDate:be(),toDate:Oe(),orderBy:o,pagination:{page:e(S),pageSize:e(T)},search:e(X).trim(),searchType:e(G),includeArchived:!1},we=await Rt.post("/exception-stack-traces",k,{projectId:zt.currentProjectId??void 0});a(v,we.data||[],!0),a(b,we.pagination.total,!0),a(f,we.pagination.totalPages,!0),a(i,new Set,!0)}catch(o){console.error(o),a(N,o.message||"Failed to load data",!0)}finally{a(w,!1)}}function at(r){r>=1&&r<=e(f)&&(a(S,r,!0),Z(!0))}function Bt(r){a(T,r,!0),a(S,1),Z(!0)}function Gt(r,o,k){a(M,r.date,!0),a(j,o.date,!0),a(B,r.time,!0),a(ne,o.time,!0),a(E,k,!0),a(S,1),Z(!0)}function xt(){a(S,1),Z(!0)}function kt(r){const o=Ur(r,e(I),e($));a(I,o.field,!0),a($,o.direction,!0),Br(u,o),a(S,1),Z(!0)}function yt(){const r=O(),o=Mt(r,e(m));a(E,r.preset,!0),a(M,tt(o.from),!0),a(j,tt(o.to),!0),a(B,rt(o.from),!0),a(ne,rt(o.to),!0),a(X,r.search,!0),a(G,r.searchType,!0),a(S,1),Z(!1)}function Yt(){e(x)?a(i,new Set,!0):a(i,new Set(e(v).map(r=>r.exceptionHash)),!0)}function Wt(r){const o=new Set(e(i));o.has(r)?o.delete(r):o.add(r),a(i,o,!0)}function wt(r){return e(i).has(r)}async function Jt(){if(e(i).size!==0){a(F,!0);try{await Rt.post("/exception-stack-traces/archive",{hashes:Array.from(e(i))},{projectId:zt.currentProjectId??void 0}),Gr.success("Successfully archived the Issue"+(e(i).size>1?"s":"")),a(i,new Set,!0),await Z()}catch(r){throw console.error("Archive failed:",r),a(N,r.message||"Failed to archive issues",!0),r}finally{a(F,!1)}}}or(()=>{window.addEventListener("popstate",yt),Z(!1)}),nr(()=>{typeof window<"u"&&window.removeEventListener("popstate",yt)});var St=ga(),st=l(St),ot=H(st),Pt=d(H(ot),2),Kt=H(Pt);Lr(Kt,{onApply:Gt,get fromDate(){return e(M)},set fromDate(r){a(M,r,!0)},get toDate(){return e(j)},set toDate(r){a(j,r,!0)},get fromTime(){return e(B)},set fromTime(r){a(B,r,!0)},get toTime(){return e(ne)},set toTime(r){a(ne,r,!0)},get preset(){return e(E)},set preset(r){a(E,r,!0)}}),z(Pt),z(ot);var nt=d(ot,2),Tt=H(nt);cr(Tt,{placeholder:"Search exceptions...",class:"h-9 w-[250px] rounded-r-none border-r-0 lg:w-[320px]",onkeydown:r=>{r.key==="Enter"&&xt()},get value(){return e(X)},set value(r){a(X,r,!0)}});var Ct=d(Tt,2);c(Ct,()=>br,(r,o)=>{o(r,{type:"single",get value(){return e(G)},set value(k){a(G,k,!0)},children:(k,we)=>{var $e=ua(),Ie=l($e);c(Ie,()=>vr,(Pe,A)=>{A(Pe,{class:"h-9 w-[110px] rounded-none border-r-0",children:(Y,Me)=>{ye();var ie=Re();oe(()=>se(ie,e(_e))),s(Y,ie)},$$slots:{default:!0}})});var Se=d(Ie,2);c(Se,()=>gr,(Pe,A)=>{A(Pe,{children:(Y,Me)=>{var ie=_(),qe=l(ie);pt(qe,17,()=>Ne,Ft,(ee,te)=>{var le=_(),Te=l(le);c(Te,()=>_r,(Ce,U)=>{U(Ce,{get value(){return e(te).value},get label(){return e(te).label},children:(re,ue)=>{ye();var W=Re();oe(()=>se(W,e(te).label)),s(re,W)},$$slots:{default:!0}})}),s(ee,le)}),s(Y,ie)},$$slots:{default:!0}})}),s(k,$e)},$$slots:{default:!0}})});var Qt=d(Ct,2);ft(Qt,{variant:"outline",class:"h-9 rounded-l-none",onclick:xt,get disabled(){return e(w)},children:(r,o)=>{ye();var k=Re("Go");s(r,k)},$$slots:{default:!0}}),z(nt);var Dt=d(nt,2);{var Vt=r=>{var o=da(),k=H(o),we=H(k);z(k);var $e=d(k,2);ft($e,{variant:"outline",size:"sm",onclick:()=>a(V,!0),get disabled(){return e(F)},class:"gap-1.5",children:(Se,Pe)=>{var A=ca(),Y=l(A);Yr(Y,{class:"h-4 w-4"}),ye(),s(Se,A)},$$slots:{default:!0}});var Ie=d($e,2);ft(Ie,{variant:"ghost",size:"sm",onclick:()=>a(i,new Set,!0),children:(Se,Pe)=>{ye();var A=Re("Clear selection");s(Se,A)},$$slots:{default:!0}}),z(o),oe(()=>se(we,`${e(p)??""} issue${e(p)===1?"":"s"} selected`)),s(r,o)};ge(Dt,r=>{e(p)>0&&r(Vt)})}var it=d(Dt,2),Xt=H(it);c(Xt,()=>ir,(r,o)=>{o(r,{children:(k,we)=>{var $e=_(),Ie=l($e);{var Se=A=>{var Y=_(),Me=l(Y);c(Me,()=>Xe,(ie,qe)=>{qe(ie,{children:(ee,te)=>{var le=_(),Te=l(le);c(Te,()=>Ze,(Ce,U)=>{U(Ce,{children:(re,ue)=>{var W=_(),ce=l(W);c(ce,()=>ze,(de,xe)=>{xe(de,{colspan:5,class:"h-48",children:(Ue,he)=>{var fe=ha(),pe=H(fe);$r(pe,{size:"xlg"}),z(fe),s(Ue,fe)},$$slots:{default:!0}})}),s(re,W)},$$slots:{default:!0}})}),s(ee,le)},$$slots:{default:!0}})}),s(A,Y)},Pe=A=>{var Y=_(),Me=l(Y);{var ie=ee=>{var te=_(),le=l(te);c(le,()=>Xe,(Te,Ce)=>{Ce(Te,{children:(U,re)=>{var ue=_(),W=l(ue);c(W,()=>Ze,(ce,de)=>{de(ce,{children:(xe,Ue)=>{var he=_(),fe=l(he);c(fe,()=>ze,(pe,R)=>{R(pe,{colspan:5,class:"h-24 text-center text-red-500",children:(Ae,lt)=>{ye();var De=Re();oe(()=>se(De,e(N))),s(Ae,De)},$$slots:{default:!0}})}),s(xe,he)},$$slots:{default:!0}})}),s(U,ue)},$$slots:{default:!0}})}),s(ee,te)},qe=ee=>{var te=_(),le=l(te);{var Te=U=>{var re=_(),ue=l(re);c(ue,()=>Xe,(W,ce)=>{ce(W,{children:(de,xe)=>{qr(de,{colspan:5,message:"No issues found."})},$$slots:{default:!0}})}),s(U,re)},Ce=U=>{var re=va(),ue=l(re);c(ue,()=>lr,(ce,de)=>{de(ce,{children:(xe,Ue)=>{var he=_(),fe=l(he);c(fe,()=>Ze,(pe,R)=>{R(pe,{children:(Ae,lt)=>{var De=fa(),Be=l(De);c(Be,()=>ur,(Je,Ke)=>{Ke(Je,{class:"w-[40px] pl-4",children:(Qe,ct)=>{{let dt=n(()=>e(x)?!0:e(P)?"indeterminate":!1);qt(Qe,{get checked(){return e(dt)},onCheckedChange:Yt,"aria-label":"Select all"})}},$$slots:{default:!0}})});var Ge=d(Be,2);et(Ge,{label:"Issue",tooltip:"The error message or exception that occurred"});var Ye=d(Ge,2);et(Ye,{label:"Trend",tooltip:"Hourly occurrence pattern over the last 24h",class:"w-[190px]"});var ut=d(Ye,2);et(ut,{label:"Events",tooltip:"Total number of times this issue occurred in the selected range",align:"right",class:"w-[80px]",sortField:"count",get currentSortField(){return e(I)},get sortDirection(){return e($)},onSort:kt});var We=d(ut,2);et(We,{label:"Last Seen",tooltip:"When this issue last occurred",class:"w-[180px]",sortField:"last_seen",get currentSortField(){return e(I)},get sortDirection(){return e($)},onSort:kt}),s(Ae,De)},$$slots:{default:!0}})}),s(xe,he)},$$slots:{default:!0}})});var W=d(ue,2);c(W,()=>Xe,(ce,de)=>{de(ce,{children:(xe,Ue)=>{var he=_(),fe=l(he);pt(fe,17,()=>e(v),pe=>pe.exceptionHash,(pe,R)=>{var Ae=_(),lt=l(Ae);{let De=n(()=>wt(e(R).exceptionHash)?"selected":void 0);c(lt,()=>Ze,(Be,Ge)=>{Ge(Be,{class:"group cursor-pointer hover:bg-muted/50",get"data-state"(){return e(De)},children:(Ye,ut)=>{var We=ma(),Je=l(We);c(Je,()=>ze,(me,ve)=>{ve(me,{class:"pl-4",onclick:J=>J.stopPropagation(),children:(J,ke)=>{{let Fe=n(()=>wt(e(R).exceptionHash));qt(J,{get checked(){return e(Fe)},onCheckedChange:()=>Wt(e(R).exceptionHash),"aria-label":"Select row"})}},$$slots:{default:!0}})});var Ke=d(Je,2);{let me=n(()=>Ve(`/issues/${e(R).exceptionHash}`));c(Ke,()=>ze,(ve,J)=>{J(ve,{class:"max-w-[400px] truncate font-mono text-sm",get title(){return e(R).stackTrace},get onclick(){return e(me)},children:(ke,Fe)=>{var K=pa(),Le=H(K,!0);z(K),oe(tr=>se(Le,tr),[()=>e(R).stackTrace.split(`
`)[0]]),s(ke,K)},$$slots:{default:!0}})})}var Qe=d(Ke,2);{let me=n(()=>Ve(`/issues/${e(R).exceptionHash}`));c(Qe,()=>ze,(ve,J)=>{J(ve,{get onclick(){return e(me)},children:(ke,Fe)=>{{let K=n(()=>e(R).hourlyTrend||[]);la(ke,{get trend(){return e(K)}})}},$$slots:{default:!0}})})}var ct=d(Qe,2);{let me=n(()=>Ve(`/issues/${e(R).exceptionHash}`));c(ct,()=>ze,(ve,J)=>{J(ve,{class:"text-right font-medium tabular-nums",get onclick(){return e(me)},children:(ke,Fe)=>{ye();var K=Re();oe(Le=>se(K,Le),[()=>e(R).count.toLocaleString()]),s(ke,K)},$$slots:{default:!0}})})}var dt=d(ct,2);{let me=n(()=>Ve(`/issues/${e(R).exceptionHash}`));c(dt,()=>ze,(ve,J)=>{J(ve,{class:"text-muted-foreground",get onclick(){return e(me)},children:(ke,Fe)=>{ye();var K=Re();oe(Le=>se(K,Le),[()=>jt(e(R).lastSeen,{timezone:e(m)})]),s(ke,K)},$$slots:{default:!0}})})}s(Ye,We)},$$slots:{default:!0}})})}s(pe,Ae)}),s(xe,he)},$$slots:{default:!0}})}),s(U,re)};ge(le,U=>{e(v).length===0?U(Te):U(Ce,!1)},!0)}s(ee,te)};ge(Me,ee=>{e(N)?ee(ie):ee(qe,!1)},!0)}s(A,Y)};ge(Ie,A=>{e(w)?A(Se):A(Pe,!1)})}s(k,$e)},$$slots:{default:!0}})}),z(it);var Zt=d(it,2);Fr(Zt,{get currentPage(){return e(S)},get totalPages(){return e(f)},get pageSize(){return e(T)},get totalItems(){return e(b)},onPageChange:at,onPageSizeChange:Bt,get loading(){return e(w)},itemLabel:"issue"}),z(st);var er=d(st,2);Mr(er,{get open(){return e(V)},onOpenChange:r=>a(V,r,!0),get count(){return e(p)},onConfirm:Jt}),s(q,St),Ee()}export{Ga as component,Ba as universal};

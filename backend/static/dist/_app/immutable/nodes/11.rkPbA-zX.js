import{r as et}from"../chunks/hp4PFHFv.js";import{a as W,p as rt}from"../chunks/Cz_w3iUV.js";import{d as at,c as X,a as s,r as C,p as j,f as c,e as O,i as K,t as w,s as st}from"../chunks/DRF5TCtt.js";import{p as y,f as T,b as L,a as b,c as f,r as u,s as $,g as m,m as V,n as D,w as k,t as lt}from"../chunks/BjAeDMBy.js";import{g as ot}from"../chunks/C3Sf7PJj.js";import{a as S,b as N,d as E,t as it,B as nt}from"../chunks/2wOyHH5q.js";import{I as dt}from"../chunks/DLEEBDqL.js";import{L as ct}from"../chunks/TEoPWAid.js";import{b as vt,C as ft,a as ut}from"../chunks/CZ9m_hDi.js";import{C as gt}from"../chunks/C2TvfYoV.js";import{t as mt}from"../chunks/Cecjx4P6.js";import{I as _t}from"../chunks/BVu9LbMP.js";function pt(d,t){y(t,!0);let a=C(t,["$$slots","$$events","$$legacy"]);const i=[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16"}]];_t(d,at({name:"circle-alert"},()=>a,{get iconNode(){return i},children:(e,n)=>{var r=X(),g=T(r);S(g,()=>t.children??L),s(e,r)},$$slots:{default:!0}})),b()}var ht=c("<div><!></div>");function xt(d,t){y(t,!0);let a=j(t,"ref",15,null),i=C(t,["$$slots","$$events","$$legacy","ref","class","children"]);var e=ht();N(e,r=>({"data-slot":"card-footer",class:r,...i}),[()=>E("flex items-center px-6 [.border-t]:pt-6",t.class)]);var n=f(e);S(n,()=>t.children??L),u(e),O(e,r=>a(r),()=>a()),s(d,e),b()}const $t=()=>{if(W.isAuthenticated)throw et(302,"/")},Rt=Object.freeze(Object.defineProperty({__proto__:null,load:$t},Symbol.toStringTag,{value:"Module"})),yt=it({base:"relative grid w-full grid-cols-[0_1fr] items-start gap-y-0.5 rounded-lg border px-4 py-3 text-sm has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] has-[>svg]:gap-x-3 [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card *:data-[slot=alert-description]:text-destructive/90 [&>svg]:text-current"}},defaultVariants:{variant:"default"}});var bt=c("<div><!></div>");function Pt(d,t){y(t,!0);let a=j(t,"ref",15,null),i=j(t,"variant",3,"default"),e=C(t,["$$slots","$$events","$$legacy","ref","class","variant","children"]);var n=bt();N(n,g=>({"data-slot":"alert",class:g,...e,role:"alert"}),[()=>E(yt({variant:i()}),t.class)]);var r=f(n);S(r,()=>t.children??L),u(n),O(n,g=>a(g),()=>a()),s(d,n),b()}var wt=c("<div><!></div>");function kt(d,t){y(t,!0);let a=j(t,"ref",15,null),i=C(t,["$$slots","$$events","$$legacy","ref","class","children"]);var e=wt();N(e,r=>({"data-slot":"alert-description",class:r,...i}),[()=>E("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t.class)]);var n=f(e);S(n,()=>t.children??L),u(e),O(e,r=>a(r),()=>a()),s(d,e),b()}var Tt=c("<div><!></div>");function jt(d,t){y(t,!0);let a=j(t,"ref",15,null),i=C(t,["$$slots","$$events","$$legacy","ref","class","children"]);var e=Tt();N(e,r=>({"data-slot":"alert-title",class:r,...i}),[()=>E("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",t.class)]);var n=f(e);S(n,()=>t.children??L),u(e),O(e,r=>a(r),()=>a()),s(d,e),b()}var Ct=c('<img src="/traceway-logo-white.svg" alt="Traceway Logo" class="h-8 w-auto"/>'),Lt=c('<img src="/traceway-logo.png" alt="Traceway Logo" class="h-8 w-auto"/>'),St=c('<div class="flex flex-row items-center justify-center gap-2"><!></div>'),At=c("<!> <!> <!>",1),It=c('<!> <div class="grid w-full items-center gap-4"><div class="flex flex-col space-y-1.5"><!> <!></div></div>',1),Ot=c("<!> <!> <!>",1),Nt=c('<div class="flex h-screen w-full items-center justify-center px-4"><!></div>');function Ut(d,t){y(t,!0);let a=V(""),i=V(""),e=V(!1);async function n(){k(e,!0),k(i,"");try{if(!(await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:m(a)})})).ok)throw new Error("Invalid token");W.setToken(m(a)),await rt.loadProjects(),ot("/")}catch{k(i,"Invalid APP_TOKEN")}finally{k(e,!1)}}var r=Nt(),g=f(r);vt(g,{class:"w-[350px]",children:(z,Et)=>{var J=Ot(),M=T(J);ft(M,{children:(P,F)=>{ut(P,{class:"text-2xl",children:(_,A)=>{var v=St(),p=f(v);{var h=l=>{var o=Ct();s(l,o)},x=l=>{var o=Lt();s(l,o)};K(p,l=>{mt.isDark?l(h):l(x,!1)})}u(v),s(_,v)},$$slots:{default:!0}})},$$slots:{default:!0}});var q=$(M,2);gt(q,{children:(P,F)=>{var _=It(),A=T(_);{var v=o=>{Pt(o,{variant:"destructive",class:"mb-4 bg-red-50 border-red-200",children:(G,H)=>{var Q=At(),R=T(Q);pt(R,{class:"h-4 w-4 text-red-700"});var U=$(R,2);jt(U,{class:"text-red-800",children:(B,tt)=>{D();var I=w("Error");s(B,I)},$$slots:{default:!0}});var Z=$(U,2);kt(Z,{class:"text-red-700",children:(B,tt)=>{D();var I=w();lt(()=>st(I,m(i))),s(B,I)},$$slots:{default:!0}}),s(G,Q)},$$slots:{default:!0}})};K(A,o=>{m(i)&&o(v)})}var p=$(A,2),h=f(p),x=f(h);ct(x,{for:"token",children:(o,G)=>{D();var H=w("Token");s(o,H)},$$slots:{default:!0}});var l=$(x,2);dt(l,{id:"token",placeholder:"APP_TOKEN",get value(){return m(a)},set value(o){k(a,o,!0)}}),u(h),u(p),s(P,_)},$$slots:{default:!0}});var Y=$(q,2);xt(Y,{class:"flex flex-col justify-between gap-2",children:(P,F)=>{nt(P,{onclick:n,get disabled(){return m(e)},class:"w-full",children:(_,A)=>{var v=X(),p=T(v);{var h=l=>{var o=w("Logging in...");s(l,o)},x=l=>{var o=w("Login");s(l,o)};K(p,l=>{m(e)?l(h):l(x,!1)})}s(_,v)},$$slots:{default:!0}})},$$slots:{default:!0}}),s(z,J)},$$slots:{default:!0}}),u(r),s(d,r),b()}export{Ut as component,Rt as universal};

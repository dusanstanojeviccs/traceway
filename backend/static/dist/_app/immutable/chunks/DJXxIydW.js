import{h as M,p as b,c as N,i as S,a as v,f as j,r as H}from"./DRF5TCtt.js";import{u as p,g as r,w as o,m as f,p as U,f as C,a as z,c as F,b as W,r as q,h as X,A as Y}from"./BjAeDMBy.js";import{a as O,b as G}from"./2wOyHH5q.js";import{a as E,e as D,d as y,c as it,g as ot,b as J,m as A}from"./Cj4dJpFl.js";import{C as nt,w as K}from"./BOe3pJkQ.js";import{P as Z,o as at,S as dt,E as ht}from"./CEAkWQL2.js";const ct=it({component:"dialog",parts:["content","trigger","overlay","title","description","close","cancel","action"]}),w=new nt("Dialog.Root | AlertDialog.Root");class tt{static create(t){const e=w.getOr(null);return w.set(new tt(t,e))}opts;#t=f(null);get triggerNode(){return r(this.#t)}set triggerNode(t){o(this.#t,t,!0)}#e=f(null);get contentNode(){return r(this.#e)}set contentNode(t){o(this.#e,t,!0)}#s=f(null);get overlayNode(){return r(this.#s)}set overlayNode(t){o(this.#s,t,!0)}#r=f(null);get descriptionNode(){return r(this.#r)}set descriptionNode(t){o(this.#r,t,!0)}#i=f(void 0);get contentId(){return r(this.#i)}set contentId(t){o(this.#i,t,!0)}#o=f(void 0);get titleId(){return r(this.#o)}set titleId(t){o(this.#o,t,!0)}#n=f(void 0);get triggerId(){return r(this.#n)}set triggerId(t){o(this.#n,t,!0)}#a=f(void 0);get descriptionId(){return r(this.#a)}set descriptionId(t){o(this.#a,t,!0)}#d=f(null);get cancelNode(){return r(this.#d)}set cancelNode(t){o(this.#d,t,!0)}#h=f(0);get nestedOpenCount(){return r(this.#h)}set nestedOpenCount(t){o(this.#h,t,!0)}depth;parent;contentPresence;overlayPresence;constructor(t,e){this.opts=t,this.parent=e,this.depth=e?e.depth+1:0,this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.contentPresence=new Z({ref:y(()=>this.contentNode),open:this.opts.open,enabled:!0,onComplete:()=>{this.opts.onOpenChangeComplete.current(this.opts.open.current)}}),this.overlayPresence=new Z({ref:y(()=>this.overlayNode),open:this.opts.open,enabled:!0}),K(()=>this.opts.open.current,s=>{this.parent&&(s?this.parent.incrementNested():this.parent.decrementNested())},{lazy:!0}),at(()=>{this.opts.open.current&&this.parent?.decrementNested()})}handleOpen(){this.opts.open.current||(this.opts.open.current=!0)}handleClose(){this.opts.open.current&&(this.opts.open.current=!1)}getBitsAttr=t=>ct.getAttr(t,this.opts.variant.current);incrementNested(){this.nestedOpenCount++,this.parent?.incrementNested()}decrementNested(){this.nestedOpenCount!==0&&(this.nestedOpenCount--,this.parent?.decrementNested())}#c=p(()=>({"data-state":ot(this.opts.open.current)}));get sharedProps(){return r(this.#c)}set sharedProps(t){o(this.#c,t)}}class et{static create(t){return new et(t,w.get())}opts;root;attachment;constructor(t,e){this.opts=t,this.root=e,this.attachment=E(this.opts.ref),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(t){this.opts.disabled.current||t.button>0||this.root.handleClose()}onkeydown(t){this.opts.disabled.current||(t.key===dt||t.key===ht)&&(t.preventDefault(),this.root.handleClose())}#t=p(()=>({id:this.opts.id.current,[this.root.getBitsAttr(this.opts.variant.current)]:"",onclick:this.onclick,onkeydown:this.onkeydown,disabled:this.opts.disabled.current?!0:void 0,tabindex:0,...this.root.sharedProps,...this.attachment}));get props(){return r(this.#t)}set props(t){o(this.#t,t)}}class L{static create(t){return new L(t,w.get())}opts;root;attachment;constructor(t,e){this.opts=t,this.root=e,this.root.titleId=this.opts.id.current,this.attachment=E(this.opts.ref),K.pre(()=>this.opts.id.current,s=>{this.root.titleId=s})}#t=p(()=>({id:this.opts.id.current,role:"heading","aria-level":this.opts.level.current,[this.root.getBitsAttr("title")]:"",...this.root.sharedProps,...this.attachment}));get props(){return r(this.#t)}set props(t){o(this.#t,t)}}class Q{static create(t){return new Q(t,w.get())}opts;root;attachment;constructor(t,e){this.opts=t,this.root=e,this.root.descriptionId=this.opts.id.current,this.attachment=E(this.opts.ref,s=>{this.root.descriptionNode=s}),K.pre(()=>this.opts.id.current,s=>{this.root.descriptionId=s})}#t=p(()=>({id:this.opts.id.current,[this.root.getBitsAttr("description")]:"",...this.root.sharedProps,...this.attachment}));get props(){return r(this.#t)}set props(t){o(this.#t,t)}}class st{static create(t){return new st(t,w.get())}opts;root;attachment;constructor(t,e){this.opts=t,this.root=e,this.attachment=E(this.opts.ref,s=>{this.root.contentNode=s,this.root.contentId=s?.id})}#t=p(()=>({open:this.root.opts.open.current}));get snippetProps(){return r(this.#t)}set snippetProps(t){o(this.#t,t)}#e=p(()=>({id:this.opts.id.current,role:this.root.opts.variant.current==="alert-dialog"?"alertdialog":"dialog","aria-modal":"true","aria-describedby":this.root.descriptionId,"aria-labelledby":this.root.titleId,[this.root.getBitsAttr("content")]:"",style:{pointerEvents:"auto",outline:this.root.opts.variant.current==="alert-dialog"?"none":void 0,"--bits-dialog-depth":this.root.depth,"--bits-dialog-nested-count":this.root.nestedOpenCount},tabindex:this.root.opts.variant.current==="alert-dialog"?-1:void 0,"data-nested-open":D(this.root.nestedOpenCount>0),"data-nested":D(this.root.parent!==null),...this.root.sharedProps,...this.attachment}));get props(){return r(this.#e)}set props(t){o(this.#e,t)}get shouldRender(){return this.root.contentPresence.shouldRender}}class V{static create(t){return new V(t,w.get())}opts;root;attachment;constructor(t,e){this.opts=t,this.root=e,this.attachment=E(this.opts.ref,s=>this.root.overlayNode=s)}#t=p(()=>({open:this.root.opts.open.current}));get snippetProps(){return r(this.#t)}set snippetProps(t){o(this.#t,t)}#e=p(()=>({id:this.opts.id.current,[this.root.getBitsAttr("overlay")]:"",style:{pointerEvents:"auto","--bits-dialog-depth":this.root.depth,"--bits-dialog-nested-count":this.root.nestedOpenCount},"data-nested-open":D(this.root.nestedOpenCount>0),"data-nested":D(this.root.parent!==null),...this.root.sharedProps,...this.attachment}));get props(){return r(this.#e)}set props(t){o(this.#e,t)}get shouldRender(){return this.root.overlayPresence.shouldRender}}var ut=j("<div><!></div>");function xt(n,t){const e=M();U(t,!0);let s=b(t,"id",19,()=>J(e)),c=b(t,"ref",15,null),h=b(t,"level",3,2),i=H(t,["$$slots","$$events","$$legacy","id","ref","child","children","level"]);const d=L.create({id:y(()=>s()),level:y(()=>h()),ref:y(()=>c(),a=>c(a))}),m=p(()=>A(i,d.props));var P=N(),_=C(P);{var k=a=>{var l=N(),T=C(l);O(T,()=>t.child,()=>({props:r(m)})),v(a,l)},u=a=>{var l=ut();G(l,()=>({...r(m)}));var T=F(l);O(T,()=>t.children??W),q(l),v(a,l)};S(_,a=>{t.child?a(k):a(u,!1)})}v(n,P),z()}var lt=j("<div><!></div>");function Ot(n,t){const e=M();U(t,!0);let s=b(t,"id",19,()=>J(e)),c=b(t,"forceMount",3,!1),h=b(t,"ref",15,null),i=H(t,["$$slots","$$events","$$legacy","id","forceMount","child","children","ref"]);const d=V.create({id:y(()=>s()),ref:y(()=>h(),u=>h(u))}),m=p(()=>A(i,d.props));var P=N(),_=C(P);{var k=u=>{var a=N(),l=C(a);{var T=x=>{var I=N(),R=C(I);{let B=p(()=>({props:A(r(m)),...d.snippetProps}));O(R,()=>t.child,()=>r(B))}v(x,I)},rt=x=>{var I=lt();G(I,B=>({...B}),[()=>A(r(m))]);var R=F(I);O(R,()=>t.children??W,()=>d.snippetProps),q(I),v(x,I)};S(l,x=>{t.child?x(T):x(rt,!1)})}v(u,a)};S(_,u=>{(d.shouldRender||c())&&u(k)})}v(n,P),z()}var pt=j("<div><!></div>");function _t(n,t){const e=M();U(t,!0);let s=b(t,"id",19,()=>J(e)),c=b(t,"ref",15,null),h=H(t,["$$slots","$$events","$$legacy","id","children","child","ref"]);const i=Q.create({id:y(()=>s()),ref:y(()=>c(),u=>c(u))}),d=p(()=>A(h,i.props));var m=N(),P=C(m);{var _=u=>{var a=N(),l=C(a);O(l,()=>t.child,()=>({props:r(d)})),v(u,a)},k=u=>{var a=pt();G(a,()=>({...r(d)}));var l=F(a);O(l,()=>t.children??W),q(a),v(u,a)};S(P,u=>{t.child?u(_):u(k,!1)})}v(n,m),z()}function kt(...n){return n.filter(Boolean).join(" ")}const ft=typeof document<"u";let $=0;class gt{#t=f(X([]));get toasts(){return r(this.#t)}set toasts(t){o(this.#t,t,!0)}#e=f(X([]));get heights(){return r(this.#e)}set heights(t){o(this.#e,t,!0)}#s=t=>{const e=this.toasts.findIndex(s=>s.id===t);return e===-1?null:e};addToast=t=>{ft&&this.toasts.unshift(t)};updateToast=({id:t,data:e,type:s,message:c})=>{const h=this.toasts.findIndex(d=>d.id===t),i=this.toasts[h];this.toasts[h]={...i,...e,id:t,title:c,type:s,updated:!0}};create=t=>{const{message:e,...s}=t,c=typeof t?.id=="number"||t.id&&t.id?.length>0?t.id:$++,h=t.dismissable===void 0?!0:t.dismissable,i=t.type===void 0?"default":t.type;return Y(()=>{this.toasts.find(m=>m.id===c)?this.updateToast({id:c,data:t,type:i,message:e,dismissable:h}):this.addToast({...s,id:c,title:e,dismissable:h,type:i})}),c};dismiss=t=>(Y(()=>{if(t===void 0){this.toasts=this.toasts.map(s=>({...s,dismiss:!0}));return}const e=this.toasts.findIndex(s=>s.id===t);this.toasts[e]&&(this.toasts[e]={...this.toasts[e],dismiss:!0})}),t);remove=t=>{if(t===void 0){this.toasts=[];return}const e=this.#s(t);if(e!==null)return this.toasts.splice(e,1),t};message=(t,e)=>this.create({...e,type:"default",message:t});error=(t,e)=>this.create({...e,type:"error",message:t});success=(t,e)=>this.create({...e,type:"success",message:t});info=(t,e)=>this.create({...e,type:"info",message:t});warning=(t,e)=>this.create({...e,type:"warning",message:t});loading=(t,e)=>this.create({...e,type:"loading",message:t});promise=(t,e)=>{if(!e)return;let s;e.loading!==void 0&&(s=this.create({...e,promise:t,type:"loading",message:typeof e.loading=="string"?e.loading:e.loading()}));const c=t instanceof Promise?t:t();let h=s!==void 0;return c.then(i=>{if(typeof i=="object"&&i&&"ok"in i&&typeof i.ok=="boolean"&&!i.ok){h=!1;const d=mt(i);this.create({id:s,type:"error",message:d})}else if(e.success!==void 0){h=!1;const d=typeof e.success=="function"?e.success(i):e.success;this.create({id:s,type:"success",message:d})}}).catch(i=>{if(e.error!==void 0){h=!1;const d=typeof e.error=="function"?e.error(i):e.error;this.create({id:s,type:"error",message:d})}}).finally(()=>{h&&(this.dismiss(s),s=void 0),e.finally?.()}),s};custom=(t,e)=>{const s=e?.id||$++;return this.create({component:t,id:s,...e}),s};removeHeight=t=>{this.heights=this.heights.filter(e=>e.toastId!==t)};setHeight=t=>{const e=this.#s(t.toastId);if(e===null){this.heights.push(t);return}this.heights[e]=t};reset=()=>{this.toasts=[],this.heights=[]}}function mt(n){return n&&typeof n=="object"&&"status"in n?`HTTP error! Status: ${n.status}`:`Error! ${n}`}const g=new gt;function vt(n,t){return g.create({message:n,...t})}class Tt{#t=p(()=>g.toasts.filter(t=>!t.dismiss));get toasts(){return r(this.#t)}}const yt=vt,At=Object.assign(yt,{success:g.success,info:g.info,warning:g.warning,error:g.error,custom:g.custom,message:g.message,promise:g.promise,dismiss:g.dismiss,loading:g.loading,getActiveToasts:()=>g.toasts.filter(n=>!n.dismiss)});export{tt as D,Tt as S,st as a,Ot as b,xt as c,_t as d,et as e,g as f,kt as g,At as t};
